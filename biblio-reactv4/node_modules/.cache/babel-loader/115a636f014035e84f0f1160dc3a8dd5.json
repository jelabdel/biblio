{"ast":null,"code":"var _jsxFileName = \"/Users/jamala/Dropbox/Projects/BIBLIOV4/biblio-reactv4/src/containers/SignUp.js\";\nimport React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signUpUser } from '../redux/actions/userActions';\nimport { clearErrors } from '../redux/actions/errorActions';\nimport PropTypes from 'prop-types';\n\nclass SignUp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      username: '',\n      email: '',\n      password: '',\n      msg: null\n    };\n\n    this.onChangeInput = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onHandleSubmit = event => {\n      event.preventDefault();\n      const {\n        name,\n        username,\n        email,\n        password\n      } = this.state;\n      const newUser = {\n        name,\n        username,\n        email,\n        password\n      };\n      console.log('newUser:', newUser);\n      this.props.onSubmitHandle(newUser);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 16\n        }\n      });\n    };\n\n    this.AlertError = () => {\n      const [show, setShow] = useState(true);\n\n      if (show) {\n        return /*#__PURE__*/React.createElement(Alert, {\n          variant: \"danger\",\n          onClose: () => {\n            setShow(false);\n            this.props.handleClearErrors();\n          },\n          dismissible: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }\n        }, this.state.msg);\n      }\n\n      return null;\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      //Check for registor error\n      if (error.id === 'REGISTER_FAIL') {\n        this.setState({\n          msg: error.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.onHandleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, this.state.msg ? /*#__PURE__*/React.createElement(AlertError, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 39\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"nameText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChangeInput,\n      type: \"text\",\n      placeholder: \"Enter name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"usernameText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.onChangeInput,\n      type: \"text\",\n      placeholder: \"Enter username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"emailText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.onChangeInput,\n      type: \"text\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"passwordText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onChangeInput,\n      type: \"password\",\n      placeholder: \"Enter password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.onSubmitHandle,\n      className: \"book-button\",\n      variant: \"outline-light\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, \"Submit\"))));\n  }\n\n}\n\nSignUp.propsTypes = {\n  isAuthenticated: PropTypes.bool,\n  error: PropTypes.object.isRequired,\n  signUpUser: PropTypes.func.isRequired,\n  clearErrors: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSubmitHandle: user => dispatch(signUpUser(user)),\n    handleClearErrors: () => dispatch(clearErrors())\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    isAuthanticated: state.auth.isAuthanticated,\n    error: state.error\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp, clearErrors);","map":{"version":3,"sources":["/Users/jamala/Dropbox/Projects/BIBLIOV4/biblio-reactv4/src/containers/SignUp.js"],"names":["React","useState","Form","Button","Alert","NavLink","Redirect","connect","signUpUser","clearErrors","PropTypes","SignUp","Component","state","name","username","email","password","msg","onChangeInput","event","setState","target","value","onHandleSubmit","preventDefault","newUser","console","log","props","onSubmitHandle","AlertError","show","setShow","handleClearErrors","componentDidUpdate","prevProps","error","id","render","propsTypes","isAuthenticated","bool","object","isRequired","func","mapDispatchToProps","dispatch","user","mapStateToProps","isAuthanticated","auth"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signUpUser } from '../redux/actions/userActions';\nimport { clearErrors } from '../redux/actions/errorActions';\nimport PropTypes from 'prop-types';\n\n\nclass SignUp extends React.Component {\n    // super(props)\n    state = {\n        name: '',\n        username: '',\n        email: '',\n        password: '',\n        msg: null\n    };\n\n    static propsTypes = {\n        isAuthenticated: PropTypes.bool,\n        error: PropTypes.object.isRequired,\n        signUpUser: PropTypes.func.isRequired,\n        clearErrors: PropTypes.func.isRequired\n    }\n\n\n    componentDidUpdate(prevProps) {\n\n        const { error } = this.props;\n        if (error !== prevProps.error) {\n            //Check for registor error\n            if (error.id === 'REGISTER_FAIL') {\n                this.setState({ msg: error.msg })\n            } else { this.setState({ msg: null }) }\n        }\n    }\n\n    onChangeInput = (event) => {\n\n        this.setState({ [event.target.name]: event.target.value })\n    }\n\n    onHandleSubmit = (event) => {\n        event.preventDefault()\n\n        const { name, username, email, password } = this.state;\n\n        const newUser = {\n            name,\n            username,\n            email,\n            password\n        }\n        console.log('newUser:', newUser)\n        this.props.onSubmitHandle(newUser)\n\n        return <Redirect to={\"#\"} />\n    }\n\n    // Show Alert with error message, when closing alert\n    // dispatch  clearError action. \n    AlertError = () => {\n        const [show, setShow] = useState(true);\n        if (show) {\n            return (\n                <Alert variant=\"danger\" onClose={() => { setShow(false); this.props.handleClearErrors() }} dismissible>\n                    {this.state.msg}\n                </Alert>\n            );\n        }\n        return null;\n    }\n\n    render() {\n\n        return (\n            <div>\n                < Form onSubmit={this.onHandleSubmit}>\n                    {this.state.msg ? <AlertError /> : null}\n                    <h2>Sign Up</h2>\n                    <Form.Group controlId=\"nameText\">\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control\n                            name=\"name\"\n                            value={this.state.name}\n                            onChange={this.onChangeInput}\n                            type=\"text\"\n                            placeholder=\"Enter name\" />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"usernameText\">\n                        <Form.Label>Username</Form.Label>\n                        <Form.Control\n                            name=\"username\"\n                            value={this.state.username}\n                            onChange={this.onChangeInput}\n                            type=\"text\"\n                            placeholder=\"Enter username\" />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"emailText\">\n                        <Form.Label>Email</Form.Label>\n                        <Form.Control\n                            name=\"email\"\n                            value={this.state.email}\n                            onChange={this.onChangeInput}\n                            type=\"text\"\n                            placeholder=\"Enter email\" />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"passwordText\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control\n                            name=\"password\"\n                            value={this.state.password}\n                            onChange={this.onChangeInput}\n                            type=\"password\"\n                            placeholder=\"Enter password\" />\n                    </Form.Group>\n\n                    <Button\n                        onClick={this.onSubmitHandle}\n                        className=\"book-button\"\n                        variant=\"outline-light\"\n                        type=\"submit\">\n                        <NavLink to=\"#\">\n                            Submit\n                            </NavLink>\n                    </Button>\n                </Form >\n            </div >\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onSubmitHandle: (user) => dispatch(signUpUser(user)),\n        handleClearErrors: () => dispatch(clearErrors())\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuthanticated: state.auth.isAuthanticated,\n        error: state.error\n    }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp, clearErrors);\n"]},"metadata":{},"sourceType":"module"}